var domList_1=domList;function domList(a,b={}){const{type:c='ol',className:d='simpletoc',getId:e=defaultGetId,getAnchor:f=defaultGetAnchor}=b,g=document.createElement(c);return g.classList.add(d),a.reduce((a,[c,d])=>{const g=document.createElement('li');return c.id=e(c,d),g.appendChild(f(c,d)),d&&g.appendChild(domList(d,b)),a.appendChild(g),a},g)}function defaultGetId(a){return a.id?a.id:a.textContent.toLowerCase().replace(/\s+/g,'-')}function defaultGetAnchor(b){const c=document.createElement('a');return c.href=`#${b.id}`,c.textContent=b.textContent,c}var takeWhile_1=takeWhile;function takeWhile(a,b,c=0){return c<b.length&&a(b[c],c,b)?takeWhile(a,b,c+1):b.slice(0,c)}var tree_1=tree;function tree([a,...b],c){const d=takeWhile_1(c.bind(null,a),b),e=d.length?[a,tree(d,c)]:[a];return b.length-d.length?[e,...tree(b.slice(d.length),c)]:[e]}var domToc_1=domToc;function domToc(a={}){const{compare:b=(a,b)=>b.tagName>a.tagName,root:c='body',selector:d='h1,h2,h3,h4,h5,h6',target:e='[simpletoc]'}=a;return removeChildren(document.querySelector(e)).appendChild(domList_1(tree_1(Array.from(document.querySelector(c).querySelectorAll(d)),b),a))}function removeChildren(a){for(;a.lastChild;)a.removeChild(a.lastChild);return a}var mdList_1=mdList;function mdList(a,b={},c=0){const{getRef:d=defaultGetRef,getText:e=defaultGetText,type:f='ol'}=b;return a.reduce((a,[g,h],j)=>{if(!g)return a;const i=' '.repeat(4*c),k='ol'===f?`${j+1}.`:'*',l=e(g),m=d(l),n=`${i}${k} [${l}](#${m})`;return a.push(n),h&&a.push(mdList(h,b,c+1)),a},[]).join('\n')}function defaultGetText(a){return a.replace(/^#+ +/,'').replace(/\[(.+?)\]\(.+?\)/,'$1')}function defaultGetRef(a){return a.trim().toLowerCase().replace(/[^\w\- ]+/g,'').replace(/\s/g,'-')}var mdToc_1=mdToc;function mdToc(a,b={}){const{compare:c=defaultCompare,extract:d=defaultExtract,target:e=/^TOC$/m}=b;return a.replace(e,mdList_1(tree_1(d(a),c),b))}function defaultExtract(a,b=/^#+ .*$/gm){return a.replace(/```[\S\s]+?```/g,'').match(b)||[]}function defaultCompare(a,b){const c=/^#+/;return b.match(c)[0]>a.match(c)[0]}var simpletoc={domList:domList_1,domToc:domToc_1,mdList:mdList_1,mdToc:mdToc_1,tree:tree_1};export default simpletoc;

