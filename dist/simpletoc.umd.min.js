var _slicedToArray=function(){function a(a,b){var c,d=[],e=!0,f=!1;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(d.push(g.value),!(b&&d.length===b));e=!0);}catch(a){f=!0,c=a}finally{try{!e&&h["return"]&&h["return"]()}finally{if(f)throw c}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _toArray(a){return Array.isArray(a)?a:Array.from(a)}(function(a,b){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.simpletoc=b()})(this,function(){"use strict";function a(d){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=e.type,g=void 0===f?"ol":f,h=e.className,i=void 0===h?"simpletoc":h,j=e.getId,k=void 0===j?b:j,l=e.getAnchor,m=void 0===l?c:l,n=document.createElement(g);return n.classList.add(i),d.reduce(function(b,c){var d=_slicedToArray(c,2),f=d[0],g=d[1],h=document.createElement("li");return f.id=k(f,g),h.appendChild(m(f,g)),g&&h.appendChild(a(g,e)),b.appendChild(h),b},n)}function b(a){return a.id?a.id:a.textContent.toLowerCase().replace(/\s+/g,"-")}function c(b){var c=document.createElement("a");return c.href="#"+b.id,c.textContent=b.textContent,c}function d(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return c<b.length&&a(b[c],c,b)?d(a,b,++c):b.slice(0,c)}function e(a,b){var c=_toArray(a),d=c[0],f=c.slice(1),g=m(b.bind(null,d),f),h=g.length?[d,e(g,b)]:[d];return f.length-g.length?[h].concat(_toConsumableArray(e(f.slice(g.length),b))):[h]}function f(a){for(;a.lastChild;)a.removeChild(a.lastChild);return a}function g(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,d=b.getRef,e=d===void 0?i:d,f=b.getText,j=f===void 0?h:f,k=b.type,l=k===void 0?"ol":k;return a.reduce(function(a,d,f){var h=_slicedToArray(d,2),i=h[0],k=h[1];if(!i)return a;var m=" ".repeat(4*c),n="ol"===l?f+1+".":"*",o=j(i),p=e(o);return a.push(""+m+n+" ["+o+"](#"+p+")"),k&&a.push(g(k,b,c+1)),a},[]).join("\n")}function h(a){return a.replace(/^#+ +/,"").replace(/\[(.+?)\]\(.+?\)/,"$1")}function i(a){return a.trim().toLowerCase().replace(/[^\w\- ]+/g,"").replace(/\s/g,"-")}function j(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:/^#+ .*$/gm;return a.replace(/```[\S\s]+?```/g,"").match(b)||[]}function k(a,b){var c=/^#+/;return b.match(c)[0]>a.match(c)[0]}var l=a,m=d,n=e,o=g;return{domList:l,domToc:function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=a.compare,c=b===void 0?function(a,b){return b.tagName>a.tagName}:b,d=a.root,e=d===void 0?"body":d,g=a.selector,h=g===void 0?"h1,h2,h3,h4,h5,h6":g,i=a.target,j=i===void 0?"[simpletoc]":i;f(document.querySelector(j)).appendChild(l(n(Array.from(document.querySelector(e).querySelectorAll(h)),c),a))},mdList:o,mdToc:function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},c=b.compare,d=c===void 0?k:c,e=b.extract,f=e===void 0?j:e,g=b.target,h=g===void 0?/^TOC$/m:g;return a.replace(h,o(n(f(a),d),b))},tree:n}});

