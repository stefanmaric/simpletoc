var _slicedToArray=function(){function a(a,b){var c,d=[],e=!0,f=!1;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(d.push(g.value),!(b&&d.length===b));e=!0);}catch(a){f=!0,c=a}finally{try{!e&&h["return"]&&h["return"]()}finally{if(f)throw c}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _toArray(a){return Array.isArray(a)?a:Array.from(a)}(function(a,b){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.simpletoc=b()})(this,function(){"use strict";function a(d){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,g=e.getRef,h=g===void 0?c:g,i=e.getText,j=i===void 0?b:i,k=e.type,l=k===void 0?"ol":k;return d.reduce(function(b,c,d){var g=_slicedToArray(c,2),i=g[0],k=g[1];if(!i)return b;var m=" ".repeat(4*f),n="ol"===l?d+1+".":"*",o=j(i),p=h(o);return b.push(""+m+n+" ["+o+"](#"+p+")"),k&&b.push(a(k,e,f+1)),b},[]).join("\n")}function b(a){return a.replace(/^#+ +/,"").replace(/\[(.+?)\]\(.+?\)/,"$1")}function c(a){return a.trim().toLowerCase().replace(/[^\w\- ]+/g,"").replace(/\s/g,"-")}function d(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return c<b.length&&a(b[c],c,b)?d(a,b,c+1):b.slice(0,c)}function e(a,b){var c=_toArray(a),d=c[0],f=c.slice(1),g=i(b.bind(null,d),f),h=g.length?[d,e(g,b)]:[d];return f.length-g.length?[h].concat(_toConsumableArray(e(f.slice(g.length),b))):[h]}function f(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:/^#+ .*$/gm;return a.replace(/```[\S\s]+?```/g,"").match(b)||[]}function g(a,b){var c=/^#+/;return b.match(c)[0]>a.match(c)[0]}var h=a,i=d,j=e;return{mdList:h,mdToc:function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},c=b.compare,d=c===void 0?g:c,e=b.extract,i=e===void 0?f:e,k=b.target,l=k===void 0?/^TOC$/m:k;return a.replace(l,h(j(i(a),d),b))},tree:j}});

